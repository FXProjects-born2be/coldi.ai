# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è hCaptcha –¥–ª—è Image Challenge

## ‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏ hCaptcha –Ω–∞–¥ reCAPTCHA v2

**hCaptcha –ó–ê–í–ñ–î–ò –ø–æ–∫–∞–∑—É—î image challenge** (–≤–∏–±—ñ—Ä –∫–∞—Ä—Ç–∏–Ω–æ–∫ –∑ –∞–≤—Ç–æ–±—É—Å–∞–º–∏, —Å—Ö–æ–¥–∏–Ω–∫–∞–º–∏, —Å–≤—ñ—Ç–ª–æ—Ñ–æ—Ä–∞–º–∏ —Ç–æ—â–æ), –Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ Google reCAPTCHA v2, —è–∫–∏–π –≤–∏—Ä—ñ—à—É—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 0. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞–∫–µ—Ç–∞

–°–ø–æ—á–∞—Ç–∫—É –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –æ—Ñ—ñ—Ü—ñ–π–Ω—É –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É hCaptcha –¥–ª—è React:

```bash
pnpm add @hcaptcha/react-hcaptcha
```

### 1. –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–ª—é—á—ñ–≤

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://www.hcaptcha.com/
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –∞–∫–∞—É–Ω—Ç
3. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π —Å–∞–π—Ç –≤ Dashboard (–≤–∫–ª–∞–¥–∫–∞ **Sites**)
4. –°–∫–æ–ø—ñ—é–π—Ç–µ **Site Key** (–≤—ñ–Ω –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ —Å–∞–π—Ç—É)

#### –î–µ –∑–Ω–∞–π—Ç–∏ Secret Key:

**Secret Key –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —ñ–Ω—à–æ–º—É –º—ñ—Å—Ü—ñ!**

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://dashboard.hcaptcha.com/settings
2. –ê–±–æ –≤ Dashboard –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ **Settings** (–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è) –≤ –º–µ–Ω—é
3. –£ —Ä–æ–∑–¥—ñ–ª—ñ **Secret Key** –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ –≤–∞—à Secret Key
4. –Ø–∫—â–æ Secret Key –Ω–µ –≤–∏–¥–Ω–æ –∞–±–æ –≤–∏ –π–æ–≥–æ –≤—Ç—Ä–∞—Ç–∏–ª–∏:
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É **"Generate New Secret"** (–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –Ω–æ–≤–∏–π Secret)
   - ‚ö†Ô∏è **–£–≤–∞–≥–∞**: Secret Key –æ–¥–∏–Ω –¥–ª—è –≤—Å—å–æ–≥–æ –∞–∫–∞—É–Ω—Ç—É (–Ω–µ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Å–∞–π—Ç—É –æ–∫—Ä–µ–º–æ)

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–î–æ–¥–∞–π—Ç–µ –≤ `.env.local`:

```env
# hCaptcha keys
NEXT_PUBLIC_HCAPTCHA_SITE_KEY=your_site_key_here
HCAPTCHA_SECRET_KEY=your_secret_key_here
```

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ–º–µ–Ω—ñ–≤

–í hCaptcha Dashboard:
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –≤–∞—à–æ–≥–æ —Å–∞–π—Ç—É (–≤–∫–ª–∞–¥–∫–∞ **Sites**)
2. –î–æ–¥–∞–π—Ç–µ –¥–æ–º–µ–Ω–∏, –Ω–∞ —è–∫–∏—Ö –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è hCaptcha:
   - –î–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏: `localhost`, `127.0.0.1`
   - –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É: `coldi.ai`, `www.coldi.ai`
3. –ó–±–µ—Ä–µ–∂—ñ—Ç—å –∑–º—ñ–Ω–∏

### 4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ (Difficulty) - –í–ê–ñ–õ–ò–í–û!

**–Ø–∫—â–æ –≤–∏ –±–∞—á–∏—Ç–µ –ø–æ—Å—Ç—ñ–π–Ω–æ –æ–¥–∏–Ω —ñ —Ç–æ–π –∂–µ —Ç–∏–ø challenge** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–∞–≤–∂–¥–∏ "—Å—Ç–∞–∫–∞–Ω"), —Ü–µ –∑–∞–∑–≤–∏—á–∞–π –ø–æ–≤'—è–∑–∞–Ω–æ –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ:

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –≤–∞—à–æ–≥–æ —Å–∞–π—Ç—É –≤ Dashboard (–≤–∫–ª–∞–¥–∫–∞ **Sites** ‚Üí –≤–∞—à —Å–∞–π—Ç ‚Üí **Settings**)
2. –ó–Ω–∞–π–¥—ñ—Ç—å —Ä–æ–∑–¥—ñ–ª **"Passing Threshold"** (–ü–æ—Ä—ñ–≥ –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è)
3. –î–æ—Å—Ç—É–ø–Ω—ñ —Ä—ñ–≤–Ω—ñ —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ:
   - **Auto** - –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –∑–º—ñ–Ω—é—î—Ç—å—Å—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ –º–µ—Ç—Ä–∏–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–ª—è —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω–æ—Å—Ç—ñ)
   - **Easy** - –ü–æ–∫–∞–∑—É—î –ø—Ä–æ—Å—Ç—ñ challenge —Ç–∏–ø–∏ (–º–æ–∂–µ –ø–æ–≤—Ç–æ—Ä—é–≤–∞—Ç–∏—Å—è –æ–¥–∏–Ω —Ç–∏–ø)
   - **Moderate** - –í–∏–º–∞–≥–∞—î –ø–æ–º—ñ—Ä–Ω–∏—Ö –∑—É—Å–∏–ª—å –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è, –±—ñ–ª—å—à —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω—ñ —Ç–∏–ø–∏
   - **Difficult** - –ü–æ–∫–∞–∑—É—î —Å–∫–ª–∞–¥–Ω—ñ—à—ñ challenge (–º–æ–∂–µ –º–∞—Ç–∏ –æ–±–º–µ–∂–µ–Ω–∏–π –Ω–∞–±—ñ—Ä —Ç–∏–ø—ñ–≤)

4. **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è –¥–ª—è —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω–æ—Å—Ç—ñ**: 
   - –°–ø—Ä–æ–±—É–π—Ç–µ **"Auto"** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥–±–∏—Ä–∞—î —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω—ñ —Ç–∏–ø–∏ challenge
   - –ê–±–æ **"Moderate"** - –∑–∞–∑–≤–∏—á–∞–π –¥–∞—î –Ω–∞–π–±—ñ–ª—å—à—É —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω—ñ—Å—Ç—å —Ç–∏–ø—ñ–≤
   - ‚ö†Ô∏è **"Difficult"** –º–æ–∂–µ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –æ–±–º–µ–∂–µ–Ω–∏–π –Ω–∞–±—ñ—Ä —Å–∫–ª–∞–¥–Ω–∏—Ö —Ç–∏–ø—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ç—ñ–ª—å–∫–∏ "—Å—Ç–∞–∫–∞–Ω")

5. –¢–∞–∫–æ–∂ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ **"hCaptcha Behavior"**:
   - **"Mode: Always Challenge"** - challenge –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è –∑–∞–≤–∂–¥–∏ (—É –≤–∞—Å –≤–∏–±—Ä–∞–Ω–æ ‚úÖ)
   - **"Mode: Passive"** - challenge –Ω–µ –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è, —Ç—ñ–ª—å–∫–∏ scoring
   - **"Mode: 99.9% Passive"** - challenge —Ç—ñ–ª—å–∫–∏ –¥–ª—è –≤–∏—Å–æ–∫–æ—Ä–∏–∑–∏–∫–æ–≤–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

6. –ó–±–µ—Ä–µ–∂—ñ—Ç—å –∑–º—ñ–Ω–∏

**–ü—Ä–∏–º—ñ—Ç–∫–∞**: 
- –ó–º—ñ–Ω–∏ –º–æ–∂—É—Ç—å –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏—Å—è –Ω–µ –æ–¥—Ä–∞–∑—É - –º–æ–∂–µ –∑–Ω–∞–¥–æ–±–∏—Ç–∏—Å—è –∫—ñ–ª—å–∫–∞ —Ö–≤–∏–ª–∏–Ω –∞–±–æ –æ—á–∏—â–µ–Ω–Ω—è –∫–µ—à—É –±—Ä–∞—É–∑–µ—Ä–∞
- –Ø–∫—â–æ –Ω–∞–≤—ñ—Ç—å –∑ "Moderate" –∞–±–æ "Auto" –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è, —Ü–µ –º–æ–∂–µ –±—É—Ç–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ –ø–ª–∞–Ω—É hCaptcha

### 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å dev —Å–µ—Ä–≤–µ—Ä

```bash
pnpm dev
```

## üìù –ü–æ—Ç–æ—á–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

–í `src/shared/lib/captcha-config.ts`:

```typescript
export const HCAPTCHA_ENABLED = true;  // –£–≤—ñ–º–∫–Ω–µ–Ω–æ
export const RECAPTCHA_ENABLED = false; // –í–∏–º–∫–Ω–µ–Ω–æ
export const TURNSTILE_ENABLED = false; // –í–∏–º–∫–Ω–µ–Ω–æ
```

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

–ü—Ä–æ—î–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –æ—Ñ—ñ—Ü—ñ–π–Ω—É –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É `@hcaptcha/react-hcaptcha` –≤—ñ–¥ hCaptcha:
- GitHub: https://github.com/hCaptcha/react-hcaptcha
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: https://docs.hcaptcha.com/

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `HCaptcha.tsx` —î –æ–±–≥–æ—Ä—Ç–∫–æ—é –Ω–∞–¥ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ—é –±—ñ–±–ª—ñ–æ—Ç–µ–∫–æ—é –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –ø—Ä–æ—î–∫—Ç—ñ.

## üéØ –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

1. **hCaptcha –∑–∞–≤–∂–¥–∏ –ø–æ–∫–∞–∑—É—î image challenge** - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –º–∞—î –≤–∏–±—Ä–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –∫–∞—Ä—Ç–∏–Ω–∫–∏
2. **–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ** - hCaptcha –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∞ –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
3. **–ü—Ä–∏–≤–∞—Ç–Ω—ñ—Å—Ç—å** - hCaptcha –Ω–µ –∑–±–∏—Ä–∞—î –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –¥–ª—è —Ä–µ–∫–ª–∞–º–∏ (–Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ reCAPTCHA)

## ‚ùì –ß–∞—Å—Ç—ñ –ø–∏—Ç–∞–Ω–Ω—è

### –ß–æ–º—É –ø–æ—Å—Ç—ñ–π–Ω–æ –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è –æ–¥–∏–Ω —ñ —Ç–æ–π –∂–µ —Ç–∏–ø challenge (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "—Å—Ç–∞–∫–∞–Ω")?

–¶–µ –∑–∞–∑–≤–∏—á–∞–π –ø–æ–≤'—è–∑–∞–Ω–æ –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º **Difficulty** (–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å) –≤ Dashboard:

- **Easy** —Ä–µ–∂–∏–º –º–æ–∂–µ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –æ–±–º–µ–∂–µ–Ω–∏–π –Ω–∞–±—ñ—Ä –ø—Ä–æ—Å—Ç–∏—Ö challenge —Ç–∏–ø—ñ–≤
- **Moderate/Difficult** —Ä–µ–∂–∏–º–∏ –ø–æ–∫–∞–∑—É—é—Ç—å –±—ñ–ª—å—à —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω—ñ challenge —Ç–∏–ø–∏

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ Dashboard ‚Üí Sites ‚Üí –í–∞—à —Å–∞–π—Ç ‚Üí Settings
2. –ó–Ω–∞–π–¥—ñ—Ç—å —Ä–æ–∑–¥—ñ–ª **"Passing Threshold"** (–ü–æ—Ä—ñ–≥ –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è)
3. –ó–º—ñ–Ω—ñ—Ç—å –Ω–∞ **"Auto"** (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ) –∞–±–æ **"Moderate"**
4. ‚ö†Ô∏è **–ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ "Difficult"** - –≤—ñ–Ω –º–æ–∂–µ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –æ–±–º–µ–∂–µ–Ω–∏–π –Ω–∞–±—ñ—Ä —Å–∫–ª–∞–¥–Ω–∏—Ö —Ç–∏–ø—ñ–≤
5. –ó–±–µ—Ä–µ–∂—ñ—Ç—å –∑–º—ñ–Ω–∏
6. –û—á–∏—Å—Ç—ñ—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ –∞–±–æ –∑–∞—á–µ–∫–∞–π—Ç–µ –∫—ñ–ª—å–∫–∞ —Ö–≤–∏–ª–∏–Ω

**–î–æ–¥–∞—Ç–∫–æ–≤–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ **"Mode: Always Challenge"** –≤–∏–±—Ä–∞–Ω–æ –≤ —Ä–æ–∑–¥—ñ–ª—ñ "hCaptcha Behavior"
- –Ø–∫—â–æ –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–∞–≤—ñ—Ç—å –∑ "Auto" –∞–±–æ "Moderate", —Ü–µ –º–æ–∂–µ –±—É—Ç–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ –ø–ª–∞–Ω—É

**–¢–∞–∫–æ–∂ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ:**
- –ß–∏ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ç–µ—Å—Ç–æ–≤–∏–π/demo sitekey (–≤–æ–Ω–∏ –º–æ–∂—É—Ç—å –º–∞—Ç–∏ –æ–±–º–µ–∂–µ–Ω—ñ —Ç–∏–ø–∏ challenge)
- –ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –¥–æ–º–µ–Ω–∏ –¥–ª—è –≤–∞—à–æ–≥–æ sitekey

## üîÑ –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ reCAPTCHA

–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ reCAPTCHA:

1. –í `src/shared/lib/captcha-config.ts`:
   ```typescript
   export const HCAPTCHA_ENABLED = false;
   export const RECAPTCHA_ENABLED = true;
   ```

2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- –û—Ñ—ñ—Ü—ñ–π–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: https://docs.hcaptcha.com/
- Dashboard: https://dashboard.hcaptcha.com/
